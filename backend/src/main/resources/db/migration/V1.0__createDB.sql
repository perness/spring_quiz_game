create sequence hibernate_sequence start with 1 increment by 1;

create table category (id bigint generated by default as identity, name varchar(128) not null, primary key (id));
create table match_stats (id bigint generated by default as identity, matches_lost integer check (matches_lost>=0 AND matches_lost<=9223372036854775807), matches_won integer check (matches_won>=0 AND matches_won<=9223372036854775807), user_username varchar(255), primary key (id));
create table quiz (id bigint generated by default as identity, answer_four varchar(128) not null, answer_one varchar(128) not null, answer_three varchar(128) not null, answer_two varchar(128) not null, correct_answer integer not null check (correct_answer>=0 AND correct_answer<=3), question varchar(128) not null, sub_category_id bigint not null, primary key (id));
create table sub_category (id bigint generated by default as identity, name varchar(128) not null, category_id bigint not null, primary key (id));
create table user_roles (user_username varchar(255) not null, roles varchar(255));
create table users (username varchar(255) not null, enabled boolean not null, password varchar(255) not null, primary key (username));
alter table category add constraint UK_46ccwnsi9409t36lurvtyljak unique (name);
alter table quiz add constraint UK_rnmswl6u0o5dwjq14nm5248je unique (question);
alter table match_stats add constraint FK4t4a8c1ploau9vfknu3t6tl7d foreign key (user_username) references users;
alter table quiz add constraint FKwqtq0m711iiym2m781dqr6n4 foreign key (sub_category_id) references sub_category;
alter table sub_category add constraint FKl65dyy5me2ypoyj8ou1hnt64e foreign key (category_id) references category;
alter table user_roles add constraint FKs9rxtuttxq2ln7mtp37s4clce foreign key (user_username) references users;